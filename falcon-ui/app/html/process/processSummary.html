<!--
/**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
-->
<div class="summaryBox" id="processFormSummary">
  <div class="row">
    <h5 class="col-sm-24">{{entityTypeLabel}}</h5>

    <label class="col-sm-24">Name</label>
    <label class="col-sm-24 light">{{process.name}}</label>

    <label class="col-sm-24">Tags</label>

    <div class="col-sm-24">
      <div ng-repeat="tag in process.tags | filter:{key: '!!'}">
        {{tag.key}} = {{tag.value}}
      </div>
    </div>

    <h5 class="col-sm-24">Access Control List</h5>

    <div class="row">
      <div class="col-sm-8">
        <label class="col-sm-24">Owner</label>
        <label class="col-sm-24 light">{{process.ACL.owner}}</label>
      </div>
      <div class="col-sm-8">
        <label class="col-sm-24">Group</label>
        <label class="col-sm-24 light">{{process.ACL.group}}</label>
      </div>
      <div class="col-sm-8">
        <label class="col-sm-24">Permissions</label>
        <label class="col-sm-24 light">{{process.ACL.permission}}</label>
      </div>
    </div>

    <h5 class="col-sm-24">Workflow</h5>

    <div class="row">
      <div class="col-sm-8">
        <label class="col-sm-24">Name</label>
        <label class="col-sm-24 light">{{process.workflow.name}}</label>
      </div>
      <div class="col-sm-8">
        <label class="col-sm-24">Engine</label>
        <label class="col-sm-24 light">{{process.workflow.engine}}</label>
      </div>
    </div>
    <label class="col-sm-24">Path</label>
    <label class="col-sm-24 light">{{process.workflow.path}}</label>

    <div class="col-sm-24 plr0px" ng-show="process.workflow.engine==='spark'">
      <h5 class="col-sm-24">Spark Attributes</h4>
      <div class="col-sm-24">
        <label>Aplication</label>:
        <label class="light" data-qe-id="processSparkApplication">{{process.workflow.spark.name}}</label>
      </div>
      <div class="col-sm-24">
        <label>Main Class</label>:
        <label class="light"  data-qe-id="processSparkMainClass">{{process.workflow.spark.class}}</label>
      </div>
      <div class="col-sm-24">
        <label>Runs On</label>:
        <label class="light" data-qe-id="processSparkRunsOn">{{process.workflow.spark.master}}</label>
      </div>
      <div class="col-sm-24">
        <label>Mode</label>:
        <label class="light" data-qe-id="processSparkMode">{{process.workflow.spark.mode}}</label>
      </div>
      <div class="col-sm-24">
        <label>Jar</label>:
        <label class="light" data-qe-id="processSparkJar">{{process.workflow.spark.jar}}</label>
      </div>
      <div class="col-sm-24">
        <label>Spark Options</label>:
        <label class="light" data-qe-id="processSparkOpts">{{process.workflow.spark.sparkOptions}}</label>
      </div>
      <div class="col-sm-24">
        <label>Spark Arguments</label>:
        <label class="light" data-qe-id="processSparkOpts">{{process.workflow.spark.arg}}</label>
      </div>
    </div>

    <h5 class="col-sm-24">Timing</h5>
    <label class="col-sm-24" ng-if="process.timezone">Timezone</label>
    <label class="col-sm-24 light">{{process.timezone}}</label>

    <div class="row">
      <div class="col-sm-8">
        <label class="col-sm-24">Frequency</label>
        <label class="col-sm-24 light">Every {{process.frequency.quantity}} {{process.frequency.unit}}</label>
      </div>
      <div class="col-sm-8">
        <label class="col-sm-24">Max. parallel instances</label>
        <label class="col-sm-24 light">{{process.parallel}}</label>
      </div>
      <div class="col-sm-8">
        <label class="col-sm-24">Order</label>
        <label class="col-sm-24 light">{{process.order}}</label>
      </div>
    </div>

    <h5 class="col-sm-24" ng-if="(process.properties | filter:{name: '!!'}).length > 0">Properties</h5>
    <div class="col-sm-24" ng-repeat="property in process.properties  | filter:{name: '!!'}">
      <label>{{property.name}}</label>:<span> {{property.value}}</span>
    </div>

    <h5 class="col-sm-24">Retry</h5>

    <div class="row">
      <div class="col-sm-8">
        <label class="col-sm-24">Policy</label>
        <label class="col-sm-24 light">{{process.retry.policy}}</label>
      </div>
      <div class="col-sm-8">
        <label class="col-sm-24">Attempts</label>
        <label class="col-sm-24 light">{{process.retry.attempts}}</label>
      </div>
      <div class="col-sm-8">
        <label class="col-sm-24">Delay</label>
        <label class="col-sm-24 light">Up to {{process.retry.delay.quantity}} {{process.retry.delay.unit}}</label>
      </div>
    </div>


  </div>
</div>

<div class="summaryBox">
  <div class="row">
    <h5 class="col-sm-24">Clusters</h5>

    <div ng-repeat="cluster in process.clusters">
      <div class="row col-sm-offset-1 col-sm-22 detailsBox">
        <label class="col-sm-24">Name</label>
        <label class="col-sm-24 light">{{cluster.name}}</label>

        <h5 class="col-sm-24">Validity</h5>

        <div class="row">
          <div class="col-sm-12">
            <label class="col-sm-24">Start</label>
            <label class="col-sm-24 light">{{dateFormatter(entity.start)}} Z</label>
          </div>
          <div class="col-sm-12">
            <label class="col-sm-24">End</label>
            <label class="col-sm-24 light">{{dateFormatter(entity.end)}} Z</label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="summaryBox">
  <div class="row">
    <h5 class="col-sm-24">Inputs</h5>

    <div ng-repeat="input in process.inputs">
      <div class="row col-sm-offset-1 col-sm-22 detailsBox">
        <label class="col-sm-24">Name</label>
        <label class="col-sm-24 light">{{input.name}}</label>
        <label class="col-sm-24">Feed</label>
        <label class="col-sm-24 light">{{input.feed}}</label>

        <h5 class="col-sm-24">Instance</h5>

        <div class="row">
          <div class="col-sm-12">
            <label class="col-sm-24">Start</label>
            <label class="col-sm-24 light">{{input.start}}</label>
          </div>
          <div class="col-sm-12">
            <label class="col-sm-24">End</label>
            <label class="col-sm-24 light">{{input.end}}</label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="summaryBox">
  <div class="row">
    <h5 class="col-sm-24">Outputs</h5>

    <div ng-repeat="output in process.outputs">
      <div class="row col-sm-offset-1 col-sm-22 detailsBox">
        <label class="col-sm-24">Name</label>
        <label class="col-sm-24 light">{{output.name}}</label>
        <label class="col-sm-24">Feed</label>
        <label class="col-sm-24 light">{{output.feed}}</label>

        <h5 class="col-sm-24">Instance</h5>
        <label class="col-sm-24">Instance</label>
        <label class="col-sm-24 light">{{output.outputInstance}}</label>
      </div>
    </div>
  </div>
</div>
