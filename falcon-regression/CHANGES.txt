Apache Falcon Regression Change log

Trunk (Unreleased)

  INCOMPATIBLE CHANGES

  NEW FEATURES

   FALCON-1067 Add test in falcon-regression for feed instance listing api(Karishma G 
   via Samarth G) 
 
   FALCON-1066 Add test in falcon to test process SLA feature(Pragya M via Samarth G)
 
   FALCON-964 add test in falcon regression to test loading of jar present in user lib(Pragya M 
   via Samarth Gupta)
   
   FALCON-974 add test in falcon-regression for log mover feature(Pragya via Samarth Gupta)
   
   FALCON-843 add test to support current & last week el expression(Pragya M via Samarth G)

   FALCON-1035 Add test in falcon regression for validate feature. Validate is exposed 
   via both server and prism (Karishma G via Samarth Gupta)

   FALCON-1030 Test for Add option to search for Entities(Pragya Mittal Via Samarth Gupta)

   FALCON-1043 Add test in falcon to test touch feature(Pragya Mittal via Samarth Gupta)   

   FALCON-1021 Add test in falcon to test feed SLA feature (Pragya Mittal via Raghav Kumar Gautam)

   FALCON-671 Add a test in falcon-regression where one oozie workflow has various actions like
   mr, hive, pig (Karishma Gulati via Ruslan Ostafiychuk)

   FALCON-985 Upgrading jsch version in falcon regression pom (Pragya M via Samarth)

   FALCON-884 Add option to dump xmls generated by falcon (Raghav Kumar Gautam via Ruslan
   Ostafiychuk)

   FALCON-893 Add tests for replication to wasb filesystem
   (Raghav Kumar Gautam and Ruslan Ostafiychuk via Arpit Gupta)

   FALCON-861 Add ACL tests for falcon client and ACL update
   (Raghav Kumar Gautam)

   FALCON-844 List instances tests (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-841 Test falcon process with different frequencies
   (Raghav Kumar Gautam)

   FALCON-814 Tests for entities summary API (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-833 FeedReplicationTest.availabilityFlagTest fix (Paul Isaychuk
   via Raghav Kumar Gautam)

   FALCON-838 Add support for https in merlin (Raghav Kumar Gautam and
   Ruslan Ostafiychuk via Raghav Kumar Gautam)

   FALCON-746 Add ACL validation and enforcement tests (Raghav Kumar Gautam via Ruslan Ostafiychuk)

   FALCON-743 Adding tests for cases related to usage of pipelines tag
   (Paul Isaychuk via Raghav Kumar Gautam)

   FALCON-589 Add test cases for various feed operations on Hcat feeds (Karishma G 
   via Samarth Gupta)

  IMPROVEMENTS
   FALCON-1138: JDK requirement for merlin should be 1.7 (Raghav Kumar Gautam)

   FALCON-1135 Migrate methods related to *Merlin.java classes from InstanceUtil.java and
   Bundle.java (Ruslan Ostafiychuk)

   FALCON-1088 Fixing FeedDelayParallelTimeoutTest and renaming it to FeedDelayTest(Pragya M via 
   Samarth G)

   FALCON-1112 Migrate methods related to *Merlin.java classes from Util.java to their respective
    *Merlin.java (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-1113 Clean up data files in merlin resource directory. Create better names for them
   (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-1103 RetentionTest stabilization - remove check of all retention job actions
   (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-1010 Add documentation in falcon-regression's README.md, making it easy for 
   contributors to add tests to falcon-regression(Karishma G via Samarth )
 
   FALCON-1011 Fix PrismProcessScheduleTest in falcon regression ( Pragya M via 
   Samarth G)

   FALCON-1075 Fixing ProcessFrequencyTest, EntityDryRunTest, ProcessInstanceRerunTest 
   which are failing as part of falcon regression (Pragya M via Samarth G)

   FALCON-1094 getAllFilesRecursivelyHDFS without recursive call (Ruslan Ostafiychuk)

   FALCON-1093 Tag all new tests added to falcon-regression (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-1089 ProcessInstanceStatusTest improvement (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-1058 Test for Feed Replication with Empty Directories(Pragya M via Samarth Gupta)

   FALCON-1046 Add test for process update with user feature(Karishma G via Samarth Gupta)
   
   FALCON-1017 FeedReplicationTest modified to check for _SUCCESS getting created on 
   target directory(Pragya M via Samarth G)   
   
   FALCON-1040 Modifying ProcessInstanceStatusTest to expose job id for running jobs in 
   Falcon. (Pragya M via Samarth G)

   FALCON-1044 Add tests for the change that start and end are compulsory parameters for 
   all instance POST apis.(Karishma G via Samarth)
   
   FALCON-1034 Add test for FALCON-677 - wherein feed data and stats paths no longer default
   to /tmp/.(Karishma G via Samarth Gupta)
  
   FALCON-1014 Fix PrismProcessSnSTest in falcon regression . (Contributed by Pragya M via 
   Samarth G)

   FALCON-1022 Wait for RUNNING status of instances before killing them (Ruslan Ostafiychuk)

   FALCON-968 Remove only entities submitted by same test and baseHDFSDir usage refactored
   (Ruslan Ostafiychuk via Raghav Kumar Gautam)

   FALCON-1007 Improve test output and variable names (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-1009 InstanceUtil cleanup (Raghav Kumar Gautam)

   FALCON-1006 Add a property for inclusion of test (Raghav Kumar Gautam)

   FALCON-999 Fix PrismProcessResumeTest in falcon regression (Samarth Gupta)
   
   FALCON-998 Removing 'store' hard coded in regression test (Pragya M via Samarth Gupta)

   FALCON-989 add timeout to EmbeddedPigScriptTest in falcon regression (Samarth Gupta)

   FALCON-978 Refactoring FeedLateRerunTest to be parametrized test (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-979 Fix checkstyle issues introduced by falcon-976 (Raghav Kumar Gautam via Ruslan Ostafiychuk)

   FALCON-976 EntityDryRunTest failing in falcon trunk (Pragya M via Samarth Gupta)

   FALCON-942 Cleanup BaseTestClass and setUp/tearDown methods (Ruslan Ostafiychuk)

   FALCON-962 Fortify ListFeedInstancesTest (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-963 Add option to exclude tests in falcon-regression (Ruslan Ostafiychuk)

   FALCON-953 Change wasb replication to run with single cluster (Ruslan Ostafiychuk
   via Raghav Kumar Gautam)

   FALCON-947 Ignore hadoop configs in merlin/src/test/resources/hadoop-conf (Ruslan Ostafiychuk)

   FALCON-940 Avoid NPE in getAllEntitiesOfOneType() for zero elements
   (Ruslan Ostafiychuk via Raghav Kumar Gautam)

   FALCON-908 Remove jars that are not needed (Paul Isaychuk via Raghav Kumar Gautam)

   FALCON-939 Fixing few typos and removing unused stuff (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-930 Delete old project name (ivory) from code and xmls (Ruslan Ostafiychuk via Raghav
   Kumar Gautam)

   FALCON-927 Refactoring of entity helpers in falcon-regression (Ruslan Ostafiychuk)

   FALCON-928 Use falcon's checkstyle for falcon regression code (Raghav Kumar Gautam)

   FALCON-909 Remove names of the contributors from xmls and code (Ruslan Ostafiychuk)

   FALCON-926 Fix problems found by findbugs in merlin and merlin-core (Ruslan Ostafiychuk and
   Raghav Kumar Gautam via Ruslan Ostafiychuk)

   FALCON-698 Fix checkstyle bugs in test files in falcon-regression (Ruslan Ostafiychuk and
   Raghav Kumar Gautam via Ruslan Ostafiychuk)

   FALCON-684 Fix problems found by checkstyle in non-test files in falcon-regression (Ruslan
   Ostafiychuk)

   FALCON-923 Remove unused xsd's (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-699 Use APIResult and other support classes from falcon-client in falcon-regression
   (Ruslan Ostafiychuk)

   FALCON-906: Add license header where it is needed, remove deprecated inmobi
   references (Paul Isaychuk via Raghav Kumar Gautam)

   FALCON-890 Merlin tests need to be updated in secure cluster to get the
   token using the ugi object requests (Arpit Gupta)

   FALCON-863 Fix tests to have start as well as end time for kill, rerun etc
   requests (Raghav Kumar Gautam)

   FALCON-856 Handle JsonSyntaxException in hitUrl (Ruslan Ostafiychuk)

   FALCON-847 Issue with login from keytab in merlin (Raghav Kumar Gautam)

   FALCON-835 Tag authorization tests (Raghav Kumar Gautam)

   FALCON-826 unify staging and working dir requirements (Raghav Kumar Gautam via Ruslan
   Ostafiychuk)

   FALCON-811 falcon superuser should be used instead of admin (Raghav Kumar Gautam via Ruslan
   Ostafiychuk)

   FALCON-812 all the entities must have acl (Raghav Kumar Gautam)

   FALCON-801 Increasing time to wait for instance (Paul Isaychuk)

   FALCON-809 Add message from response if assertSucceeded fails (Ruslan Ostafiychuk)

   FALCON-802 Authorization test disabled (Paul Isaychuk)

   FALCON-706 Parse json with instances to InstancesResult using joda's DateTime (Ruslan
   Ostafiychuk)

   FALCON-798 optionalTest_updateProcessMakeOptionalCompulsory fixed (Paul
   Isaychuk via Raghav Kumar Gautam)

   FALCON-631 add late data regression test for feed and process(Pragya
   via Samarth Gupta)

   FALCON-701 HadoopUtil and Util classes documented (Paul Isaychuk via
   Raghav Kumar Gautam)

   FALCON-750 Method name fixed (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-645 add test to falcon regression for change made in default behaviour 
   of instance request ( Karishma Via Samarth Gupta)

   FALCON-745 LogUtil requires fine control over what to dump (Raghav Kumar
   Gautam)

   FALCON-739 JmsMessageConsumer should start daemon threads (Raghav Kumar
   Gautam)

   FALCON-729 HCatFeedOperationsTest should not initialize hcat client during
   var declaration (Raghav Kumar Gautam)

   FALCON-726 Expect less fields in messages in falcon-regression
   (Ruslan Ostafiychuk)

   FALCON-720 Fix ProcessInstanceStatusTest as per FALCON-166
   (Raghav Kumar Gautam)

   FALCON-693 Tests with zero inp/outp fixed to use correct workflow, javadocs
   added (Paul Isaychuk)

   FALCON-711 Test retagged (Paul Isaychuk)

   FALCON-696 Pull oozie logs at the end of tests (Raghav Kumar Gautam)

   FALCON-675 Request URLS moved from parameters into methods in falcon-regression (Ruslan
   Ostafiychuk)

   FALCON-656 add test in falcon regression's Authorization test where non-feed owner updates
   a feed with a dependent process(Karishma via Samarth Gupta)

   FALCON-674 General code factored out for ProcessInstance* tests (Paul Isaychuk via Ruslan
   Ostafiychuk)

   FALCON-657 String datePattern moved to BaseTestClass (Ruslan Ostafiychuk)

   FALCON-643 Tests with zero-output/input scenario amended to match test case (Paul Isaychuk via
   Ruslan Ostafiychuk)

   FALCON-660 7 test classes refactored and few of them documented (Paul Isaychuk via
   Ruslan Ostafiychuk)

   FALCON-653 Add falcon regression test for zero input process(Karishma via Samarth Gupta)
   FALCON-655 Skip workflow upload if process won't be submitted (Ruslan Ostafiychuk)

   FALCON-587 Don't delete input data in @AfterClass in falcon-regression tests if
   clean_test_dir=false (Ruslan Ostafiychuk)

   FALCON-646 Refactoring, documentation stuff (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-572 HadoopUtil cleanup in falcon-regression (Ruslan Ostafiychuk via Samarth Gupta)
   FALCON-632 Refactoring, documentation stuff (Paul Isaychuk via Samarth Gupta)

   FALCON-609 UpdateAtSpecificTimeTest, InstanceSummaryTest tagged, fixed, refactored
   (Paul Isaychuk via Samarth Gupta)

   FALCON-619 ELExp_FutureAndLatestTest stabilization (Paul Isaychuk via Arpit Gupta)

   FALCON-610 Refactoring and documentation updates (Paul Isaychuk via Arpit Gupta)

   FALCON-581 Refactor code for cross product and make it a method 
   (Raghav Kumar Gautam via Arpit Gupta) 
   
   FALCON-597 String logged at the start and end of the merlin test are slightly 
   mismatched (Raghav Kumar Gautam via Arpit Gupta)

  OPTIMIZATIONS
   FALCON-681 delete duplicate feed retention test from falcon regression (SamarthG)

  BUG FIXES
   FALCON-1072 Dumping of Oozie info should use os specific newline (Raghav Kumar Gautam)

   FALCON-1018 Enable and fix FalconClientTest#badClusterSubmit (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-1005 In ProcessInstanceSuspendTest clean test dir after each method execution
   (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-990 Fix and enable 3/4 tests of RescheduleProcessInFinalStatesTest (Ruslan Ostafiychuk)

   FALCON-951 Adding wait till instance goes into running for tests in falcon trunk
   (Pragya Mittal via Raghav Kumar Gautam)

   FALCON-955 enable and fix feedAclUpdate and processAclUpdate tests (Raghav Kumar Gautam via
   Ruslan Ostafiychuk)

   FALCON-948 Enabling late rerun tests (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-956 Fix testProcessInstanceStatusTimedOut (Paul Isaychuk via Raghav Kumar Gautam)

   FALCON-937 Fix tests that are still using hdfs root dir in feeds (Raghav Kumar Gautam
   via Ruslan Ostafiychuk)

   FALCON-936 Replace deprecated WorkflowJob.getGroup() with getAcl().
   (Ruslan Ostafiychuk via Raghav Kumar Gautam)

   FALCON-895 Fix intermittent failures in ProcessInstanceStatus and KillsTest classes.
   (Paul Isaychuk via Raghav Kumar Gautam)

   FALCON-891 Removing some more invalid acl tests (Raghav Kumar Gautam)

   FALCON-888 Disabling test for special chars in pipeline name and
   RescheduleProcessInFinalStatesTest (Paul Isaychuk)

   FALCON-886 Disable tests that are failing (Raghav Kumar Gautam)

   FALCON-883 Fixing testFeedCustomFilter() (Paul Isaychuk)

   FALCON-879 Update ACL tests according to info provided in FALCON-864
   (Raghav Kumar Gautam)

   FALCON-876 Reducing fail time for HCatProcessTest and
   PrismFeedReplicationUpdateTest (Raghav Kumar Gautam)

   FALCON-873 BeforeClass fails in falcon-regression if "hadoop.rpc.protection"
    is not set(Samarth Gupta)

   FALCON-871 Merlin clusters should have hadoop.rpc.protection property
   (Raghav Kumar Gautam)

   FALCON-865 Rest end-point entities/summary has changed (Ruslan Ostafiychuk)

   FALCON-867 In process ACL tests process validity needs to be in future
   (Raghav Kumar Gautam)

   FALCON-866 Lineage endpoints need to be changed for merlin
   (Raghav Kumar Gautam)

   FALCON-855 Fix validation in ProcessInstanceKillsTest#testProcessInstanceKillStartAndEndSame
   (Ruslan Ostafiychuk)

   FALCON-860 Add label-types for labels added as part of EntitySummaryTest (Raghav Kumar Gautam
   via Ruslan Ostafiychuk)

   FALCON-852 Merlin function testProcessOrderBy() needs to use string ordering instead of enum
   ordering (Raghav Kumar Gautam via Ruslan Ostafiychuk)

   FALCON-848 ListEntitiesTest tagged and checkstyle bugs fixed (Ruslan Ostafiychuk)

   FALCON-832 more edge labels and node type for lineage (Raghav Kumar Gautam via Ruslan
   Ostafiychuk)

   FALCON-797 ProcessInstanceStatusTest#testProcessInstanceStatusEndOutOfRange fixed (Paul
   Isaychuk via Ruslan Ostafiychuk)

   FALCON-779 ProcessInstanceStatusTest#testProcessInstanceStatusReverseDateRange fixed (Paul
   Isaychuk via Ruslan Ostafiychuk)

   FALCON-776 Fixing PrismFeedUpdateTest and FeedInstanceStatus test issues (Raghav Kumar Gautam
   via Ruslan Ostafiychuk)

   FALCON-747 validateSuccessOnlyStart should use '1' as expected value (Ruslan Ostafiychuk)

   FALCON-737 In NoOutputProcessTest print info before assertion (Raghav Kumar Gautam via Ruslan Ostafiychuk)

   FALCON-736 OneNonCatInputOneHCatOutput test fails because of change in parameter name (Raghav Kumar Gautam
   via Ruslan Ostafiychuk)

   FALCON-733 HCatProcess tests fail because _SUCCESS file is non-zero size (Raghav Kumar Gautam
   via Ruslan Ostafiychuk)

   FALCON-723 Fix ProcessInstanceResumeTest and ProcessInstanceSuspendTest as per FALCON-166 (Ruslan Ostafiychuk)

   FALCON-715 "end" parameter should be greater than last instances startTime (Ruslan Ostafiychuk)

   FALCON-716 PrismFeedSuspendTest tests retagged as distributed (Ruslan Ostafiychuk)

   FALCON-713 UpdateAtSpecificTimeTest#updateTimeInPast_Feed should submitAndSchedule feed rather
   then submit (Paul Isaychuk via Ruslan Ostafiychuk)

   FALCON-707 ProcessInstanceSuspendTest is failing because input path is not set correctly
   (Raghav Kumar Gautam via Ruslan Ostafiychuk)

