<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-02-09
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160209" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Falcon - Building & Installing Falcon</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

                          
        
<script type="text/javascript">$( document ).ready( function() { $( '.carousel' ).carousel( { interval: 3500 } ) } );</script>
          
            </head>
        <body class="topBarDisabled">
          
                        
                    
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                                                                                                <img src="images/falcon-logo.png"  alt="Apache Falcon" width="200px" height="45px"/>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="index.html" title="Falcon">
        Falcon</a>
        </li>
      <li class="divider ">/</li>
        <li class="">Building & Installing Falcon</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2016-02-09</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 0.9</li>
            
                            </ul>
      </div>

      
                
        <div id="bodyColumn" >
                                  
            <div class="section">
<h2>Building &amp; Installing Falcon<a name="Building__Installing_Falcon"></a></h2></div>
<div class="section">
<h3>Building Falcon<a name="Building_Falcon"></a></h3></div>
<div class="section">
<h4>Prerequisites<a name="Prerequisites"></a></h4>
<p></p>
<ul>
<li>JDK 1.7/1.8</li>
<li>Maven 3.2.x</li></ul></div>
<div class="section">
<h4>Step 1 - Clone the Falcon repository<a name="Step_1_-_Clone_the_Falcon_repository"></a></h4>
<div class="source">
<pre>
$git clone https://git-wip-us.apache.org/repos/asf/falcon.git falcon

</pre></div></div>
<div class="section">
<h4>Step 2 - Build Falcon<a name="Step_2_-_Build_Falcon"></a></h4>
<div class="source">
<pre>
$cd falcon
$export MAVEN_OPTS=&quot;-Xmx1024m -XX:MaxPermSize=256m -noverify&quot; &amp;&amp; mvn clean install

</pre></div>
<p>It builds and installs the package into the local repository, for use as a dependency in other projects locally.</p>
<p>[optionally -Dhadoop.version=&lt;&lt;hadoop.version&gt;&gt; can be appended to build for a specific version of Hadoop]</p>
<p><b>NOTE:</b> Falcon drops support for Hadoop-1 and only supports Hadoop-2 from Falcon 0.6 onwards [optionally -Doozie.version=&lt;&lt;oozie version&gt;&gt; can be appended to build with a specific version of Oozie. Oozie versions &gt;= 4 are supported] NOTE: Falcon builds with JDK 1.7/1.8 using -noverify option       To compile Falcon with Hive Replication, optionally &quot;-P hadoop-2,hivedr&quot; can be appended. For this Hive &gt;= 1.2.0       and Oozie &gt;= 4.2.0 should be available.</p></div>
<div class="section">
<h4>Step 3 - Package and Deploy Falcon<a name="Step_3_-_Package_and_Deploy_Falcon"></a></h4>
<p>Once the build successfully completes, artifacts can be packaged for deployment using the assembly plugin. The Assembly Plugin for Maven is primarily intended to allow users to aggregate the project output along with its dependencies, modules, site documentation, and other files into a single distributable archive. There are two basic ways in which you can deploy Falcon - Embedded mode(also known as Stand Alone Mode) and Distributed mode. Your next steps will vary based on the mode in which you want to deploy Falcon.</p>
<p><b>NOTE</b> : Oozie is being extended by Falcon (particularly on el-extensions) and hence the need for Falcon to build &amp; re-package Oozie, so that users of Falcon can work with the right Oozie setup. Though Oozie is packaged by Falcon, it needs to be deployed separately by the administrator and is not auto deployed along with Falcon.</p></div>
<div class="section">
<h5>Embedded/Stand Alone Mode<a name="EmbeddedStand_Alone_Mode"></a></h5>
<p>Embedded mode is useful when the Hadoop jobs and relevant data processing involve only one Hadoop cluster. In this mode  there is a single Falcon server that contacts the scheduler to schedule jobs on Hadoop. All the process/feed requests  like submit, schedule, suspend, kill etc. are sent to this server. For running Falcon in this mode one should use the  Falcon which has been built using standalone option. You can find the instructions for Embedded mode setup  <a href="./Embedded-mode.html">here</a>.</p></div>
<div class="section">
<h5>Distributed Mode<a name="Distributed_Mode"></a></h5>
<p>Distributed mode is for multiple (colos) instances of Hadoop clusters, and multiple workflow schedulers to handle them. In this mode Falcon has 2 components: Prism and Server(s). Both Prism and Server(s) have their own their own config locations(startup and runtime properties). In this mode Prism acts as a contact point for Falcon servers. While  all commands are available through Prism, only read and instance api's are available through Server. You can find the  instructions for Distributed Mode setup <a href="./Distributed-mode.html">here</a>.</p></div>
<div class="section">
<h4>Preparing Oozie and Falcon packages for deployment<a name="Preparing_Oozie_and_Falcon_packages_for_deployment"></a></h4>
<div class="source">
<pre>
$cd &lt;&lt;project home&gt;&gt;
$src/bin/package.sh &lt;&lt;hadoop-version&gt;&gt; &lt;&lt;oozie-version&gt;&gt;

&gt;&gt; ex. src/bin/package.sh 1.1.2 4.0.1 or src/bin/package.sh 0.20.2-cdh3u5 4.0.1
&gt;&gt; ex. src/bin/package.sh 2.5.0 4.0.0
&gt;&gt; Falcon package is available in &lt;&lt;falcon home&gt;&gt;/target/apache-falcon-&lt;&lt;version&gt;&gt;-bin.tar.gz
&gt;&gt; Oozie package is available in &lt;&lt;falcon home&gt;&gt;/target/oozie-4.0.1-distro.tar.gz

</pre></div>
<p><b>NOTE:</b> If you have a separate Apache Oozie installation, you will need to follow some additional steps:</p>
<ol style="list-style-type: decimal">
<li>Once you have setup the Falcon Server, copy libraries under {falcon-server-dir}/oozie/libext/ to {oozie-install-dir}/libext.</li>
<li>Modify Oozie's configuration file. Copy all Falcon related properties from {falcon-server-dir}/oozie/conf/oozie-site.xml to {oozie-install-dir}/conf/oozie-site.xml</li>
<li>Restart oozie:
<ol style="list-style-type: decimal">
<li>cd {oozie-install-dir}</li>
<li>sudo -u oozie ./bin/oozie-stop.sh</li>
<li>sudo -u oozie ./bin/oozie-setup.sh prepare-war</li>
<li>sudo -u oozie ./bin/oozie-start.sh</li></ol></li></ol></div>
                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
              <div class="row span12">Copyright &copy;                    2013-2016
                        <a href="http://www.apache.org">Apache Software Foundation</a>.
            All Rights Reserved.      
                    
      </div>

                          
                <p id="poweredBy" class="pull-right">
                          <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
              </p>
        
                </div>
    </footer>
  </body>
</html>
